@model MvcApplication2.Models.Task
<div class="modal-content">
    <div class="modal-header">
        <button class="close" data-dismiss="modal" area-hidden="true">X</button>
        <h1>Добавление задачи</h1>
    </div>
    <div class="modal-body">
        <div>
            @using (Ajax.BeginForm("AddNewTask", new AjaxOptions { UpdateTargetId = "childdiv" + ViewBag.Pid, InsertionMode = InsertionMode.InsertAfter, OnSuccess = "$('#modDialog').modal('hide'); " + "$('#childdiv" + ViewBag.Pid + "').show(); afterloadsetting();" }))
            {
                Html.EnableClientValidation(true);
                Html.EnableUnobtrusiveJavaScript(true);
                <div class="editor-field">
                    <label for="Name">Название задачи:</label>
                    <input data-val="true" data-val-required="Введите название задачи." id="Name" type="text" name="Name" maxlength="50"/>
                    <span class="field-validation-valid" data-valmsg-for="Name" data-valmsg-replace="true"></span>
                </div>
                <div class="editor-field">
                    <label for="Deadline">Срок выполнения до:</label>
                    <input type="text" data-val="true" data-val-required="Укажите дату." class="form-control" id="dpd1" data-date="12-02-2012" data-date-format="mm.dd.yyyy" name="Deadline" />
                    <span class="field-validation-valid" data-valmsg-for="Deadline" data-valmsg-replace="true"></span>
                </div>
                <div>
                    <input type="hidden" name="Task_Id" value="@ViewBag.Pid" />
                </div>
                <div>
                    <label for="Priority">Приоритет:</label>
                    <select class="form-control" name="Priority">
                        <option value="High">Высокий</option>
                        <option value="Middle">Средний</option>
                        <option value="Low">Низкий</option>
                    </select>
                </div>

                <div>
                    <input type ="hidden" value="New" name ="State" />
                </div>


                <div class="modal-footer">
                    <input type="submit" value="ОК" class="btn btn-primary" />
                </div>
                

            }
        </div>
    </div>
</div>
<script>
    


</script>

    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/newtask");